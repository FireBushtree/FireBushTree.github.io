# defer & async

浏览器渲染碰到js的加载， 解析和执行会阻塞文档的解析， 就是在构建`DOM`的过程中， 如果碰到执行javascript那么会暂停文档的解析， 将控制权移交给js引擎， 所以想要首屏渲染的越快，
就要加载尽量少的js。 还有就是要把js放在body底部来执行， 这样等页面渲染完成了再执行
也能优化体验。

但是也不是非得吧js放在body底部， 可以使用`defer`和`async`。

## 异同

如果不设置`defer`或者`async`那么浏览器会立即加载脚本并执行， 也就是说不等到后续的文档加载，直接执行

设置了`defer`后， 表示延迟加载`javascript` 相当于设置了`window.onload`， 就是说
在加载这段js的时候， 文档也会同步渲染， 等解析完毕后， 再去执行js

设置`async`后， 表示异步加载js， 加载的同事文档也就继续解析跟渲染， 但是js加载完成后
会立即执行， 执行的时候会阻塞文档， 并且多个js之间的执行顺序无法得到保证



